%%{init: {
  'theme': 'base',
  'themeVariables': {
    'primaryColor': '#e0f7fa',
    'primaryTextColor': '#006064',
    'primaryBorderColor': '#00838f',
    'lineColor': '#00838f',
    'secondaryColor': '#fff3e0',
    'tertiaryColor': '#f1f8e9',
    'fontFamily': 'Arial, sans-serif'
  }
}}%%

flowchart TB
    classDef default fill:#fff,stroke:#00838f,stroke-width:2px,rx:5,ry:5;
    classDef actor fill:#e0f7fa,stroke:#00838f,stroke-width:2px,rx:5,ry:5;
    classDef critic fill:#fff3e0,stroke:#ff8f00,stroke-width:2px,rx:5,ry:5;
    classDef process fill:#f1f8e9,stroke:#558b2f,stroke-width:2px,rx:5,ry:5;
    classDef llm fill:#e8eaf6,stroke:#3f51b5,stroke-width:2px,rx:5,ry:5;

    LLM["ğŸ§  Large Language Model"]:::llm
    A["ğŸ‘¤ Actor Agent"]:::actor
    C["ğŸ” Critic Agent"]:::critic
    G["ğŸ“ Generate<br>Response"]:::process
    R["ğŸ“Š Review<br>Response"]:::process
    F["ğŸ’¬ Provide<br>Feedback"]:::process
    I["ğŸ”„ Improve<br>Response"]:::process

    LLM -->|0| A & C
    A -->|1| G -->|2| R -->|3| C
    C -->|4| F -->|5| I -->|6| A

    subgraph Actor ["Actor Cycle"]
        A
        G
        I
    end

    subgraph Critic ["Critic Cycle"]
        C
        R
        F
    end

    style Actor fill:#e1f5fe,stroke:#0288d1,stroke-width:2px,rx:10,ry:10;
    style Critic fill:#fff8e1,stroke:#ffa000,stroke-width:2px,rx:10,ry:10;

    linkStyle default stroke:#00838f,stroke-width:2px;